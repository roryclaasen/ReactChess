@mixin grid-white {
	.cell {
		&.grid {
			&.white {
				@content;
			}
		}
	}
}
@mixin grid-black {
	.cell {
		&.grid {
			&.black {
				@content;
			}
		}
	}
}
@mixin grid-color($color, $alternate) {
	@include grid-white {
		background-color: $color;
		color: $alternate;
	}
	@include grid-black {
		background-color: $alternate;
		color: $color;
	}
}
@mixin grid-img($default, $alternate) {
	@include grid-white {
		background-image: $default;
	}
	@include grid-black {
		background-image: $alternate;
	}
}

.chessboard {
	-moz-user-select: none;
	-ms-user-select: none;
	-webkit-touch-callout: none;
	-webkit-user-select: none;
	// border: $border;
	border-collapse: collapse;
	font-family: 'Noto Serif', serif;
	// margin: 1em;
	user-select: none;

	&.default { @include grid-color($color-grid, $color-grid-alternate); }
	&.brown { @include grid-color($color-grid-brown, $color-grid-brown-alternate); }
	&.gray { @include grid-color($color-grid-gray, $color-grid-gray-alternate); }
	&.wood { @include grid-img($img-grid-wood, $img-grid-wood-alternate); }

	.cell {
		cursor: default;
		height: $cell-size;
		line-height: $cell-size;
		text-align: center;
		width: $cell-size;

		&.label { font-weight: bold; }

		&.grid {
			padding: 0;
		}

		.piece {
			cursor: move;

			height: $cell-size;
			width: $cell-size;

			&.pawn {
				height: $cell-size * .8;
				width: $cell-size * .8;
			}

			img {
				left: 50%;
				margin: 0;
				position: absolute;
				top: 50%;
				transform: translate(-50%, -50%);
			}
		}

		.square {
			height: 100%;
			position: relative;
			width: 100%;

			.available {
				height: 100%;
				left: 0;
				opacity: .5;
				position: absolute;
				top: 0;
				width: 100%;
				z-index: 1;

				&.unplaceable { background-image: $img-unplaceable; }
				&.place { background-image: $img-place; }
				&.placeable { background-image: $img-placeable; }
			}
		}
	}

	.row {
		&:not(:first-child):not(:last-child) {
			.cell {
				&:first-child { border-right: $border; }
				&:last-child { border-left: $border; }
			}
		}

		&:first-child {
			.cell:not(:first-child):not(:last-child) {
				border-bottom: $border;
			}
		}

		&:last-child {
			.cell:not(:first-child):not(:last-child) {
				border-top: $border;
			}
		}
	}
}
